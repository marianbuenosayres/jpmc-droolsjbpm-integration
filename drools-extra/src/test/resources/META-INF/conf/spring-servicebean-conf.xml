<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:drools="http://drools.org/schema/drools-spring"
	xmlns:util="http://www.springframework.org/schema/util"
	xsi:schemaLocation="http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.0.xsd
		http://drools.org/schema/drools-spring http://drools.org/schema/drools-spring.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd">
	
	<import resource="classpath:./META-INF/conf/test-common-conf.xml" />
	
	
	<bean id="abstractKnowledgeProvider"
		class="org.drools.container.spring.beans.persistence.JPAKnowledgeServiceBean">

		<property name="entityManagerFactory" ref="entityManagerFactory" />
		<property name="transactionManager" ref="transactionManager" />
		<property name="variablePersisters">
			<util:map>
				<entry key="javax.persistence.Entity"
					value="org.drools.persistence.processinstance.persisters.JPAVariablePersister" />
				<!-- 
				<entry key="java.lang.String"
					value="com.jpmc.tss.admincenter.framework.workflow.drools.variablepersistence.StringVariablePersister" />
				-->
				<entry key="java.io.Serializable"
					value="org.drools.persistence.processinstance.persisters.SerializableVariablePersister" />
			</util:map>
		</property>
		<property name="knowledgeStore" ref="knowledgeStore"/>
		<property name="kbase">
			<drools:kbase id="knowledgeBase" node="node1">
				<drools:resources>
					<drools:resource type="DRF"
						             source="classpath:META-INF/flow/spring-servicebean/spring-servicebean-flow.rf" />
				</drools:resources>
			</drools:kbase>
		</property>
	</bean>
</beans>
	
	